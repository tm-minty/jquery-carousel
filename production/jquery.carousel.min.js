(function(e,t){e.fn.carousel=function(n){var r={backButton:".back",forwardButton:".forward",elementsContainer:".wrapper",elements:"li",slideCount:1,duration:500,easing:"",loop:!0,beforeSlide:t,afterSlide:t,vertical:!1};n=e.extend(r,n);var i={getOuterWidth:function(t){if(typeof t!="undefined"&&typeof t.length=="undefined")return e(t).width()+parseInt(t.css("margin-left"),10)+parseInt(t.css("margin-right"),10)+parseInt(t.css("border-left"),10)+parseInt(t.css("border-right"),10);var n=0;return e(t).each(function(){n+=e(this).width()+parseInt(e(this).css("margin-left"),10)+parseInt(e(this).css("margin-right"),10)+parseInt(e(this).css("border-left"),10)+parseInt(e(this).css("border-right"),10)}),n},moveEnd:function(t){var r=e(n.elementsContainer),s=e(n.elements,r),o=s.slice(0,t);r.append(o.clone(!0)).css({left:parseInt(r.css("left"),10)+i.getOuterWidth(o)}),o.remove()},moveBegin:function(t){var r=e(n.elementsContainer),s=e(n.elements,r),o=s.slice(s.length-t,s.length);r.prepend(o.clone(!0)).css({left:parseInt(r.css("left"),10)-i.getOuterWidth(o)}),o.remove()},slideBack:function(){var t=e(n.elementsContainer),r=e(n.elements,t),s=r.slice(r.length-n.slideCount,r.length);t.animate({left:a+i.getOuterWidth(s)},{duration:n.duration,queue:!0,complete:function(){i.moveBegin(n.slideCount)}})},slideForward:function(){var t=e(n.elementsContainer),r=e(n.elements,t),s=r.slice(0,n.slideCount);t.animate({left:a-i.getOuterWidth(s)},{duration:n.duration,queue:!0,complete:function(){i.moveEnd(n.slideCount)}})}},s=e(n.elementsContainer),o=e(n.elements,s),u=i.getOuterWidth(o),a=0-u;return s.prepend(o.clone(!0)).append(o.clone(!0)).css({left:a}),this.each(function(){e(n.backButton).bind("click",e.proxy(i.slideBack,this)),e(n.forwardButton).bind("click",e.proxy(i.slideForward,this))})}})(jQuery);